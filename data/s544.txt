<div class="toc hide">

<a href="#solution">Solution</a>
<a href="#approach-1-brute-forcetime-limit-exceeded">Approach #1 Brute Force[Time Limit Exceeded]</a></li>
<a href="#approach-2-using-mathaccepted">Approach #2 Using Math[Accepted]</a></li>
</ul>
</li>
</ul>
</div>
Solution</h2>

<h4 id="approach-1-brute-forcetime-limit-exceeded">Approach #1 Brute Force[Time Limit Exceeded]</h4>
The simplest solution is to consider every possible number smaller than the given number <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>, starting by decrementing 1 from the given number and go on in descending order. Similarly, we can consider every possible number greater than <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span> starting by incrementing 1 from the given number and going in ascending order. We can continue doing so in an alternate manner till we find a number which is a palindrome.</p>
Java</strong></p>
</span>public</span> class</span> Solution</span> {</span>
    public</span> String</span> nearestPalindromic</span>(</span>String</span> n</span>)</span> {</span>
        long</span> num</span> =</span> Long</span>.</span>parseLong</span>(</span>n</span>);</span>
        for</span> (</span>long</span> i</span> =</span> 1</span>;;</span> i</span>++)</span> {</span>
            if</span> (</span>isPalindrome</span>(</span>num</span> -</span> i</span>))</span>
                return</span> ""</span> +</span> (</span>num</span> -</span> i</span>);</span>
            if</span> (</span>isPalindrome</span>(</span>num</span> +</span> i</span>))</span>
                return</span> ""</span> +</span> (</span>num</span> +</span> i</span>);</span>
        }</span>
    }</span>
    boolean</span> isPalindrome</span>(</span>long</span> x</span>)</span> {</span>
        long</span> t</span> =</span> x</span>,</span> rev</span> =</span> 0</span>;</span>
        while</span> (</span>t</span> &gt;</span> 0</span>)</span> {</span>
            rev</span> =</span> 10</span> *</span> rev</span> +</span> t</span> %</span> 10</span>;</span>
            t</span> /=</span> 10</span>;</span>
        }</span>
        return</span> rev</span> ==</span> x</span>;</span>
    }</span>
}</span>
</pre></div>


Complexity Analysis</strong></p>


Time complexity : <span class="maths katex-rendered">O</mi>(</mo>n</mi></mrow></msqrt>)</mo></mrow><annotation encoding="application/x-tex">O(sqrt{n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.80028em;"></span><span class="strut bottom" style="height: 1.05028em; vertical-align: -0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.02778em;">O</span>(</span><span class="mord sqrt"><span class="sqrt-sign" style="top: 0.03972em;"><span class="style-wrap reset-textstyle textstyle uncramped">√</span></span><span class="" style="top: 0em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 1em;">​</span></span><span class="mord textstyle cramped"><span class="mord mathit">n</span></span></span><span class="" style="top: -0.72028em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 1em;">​</span></span><span class="reset-textstyle textstyle uncramped sqrt-line"></span></span><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 1em;">​</span></span>​</span></span></span>)</span></span></span></span></span>. Upto <span class="maths katex-rendered">2</mn>∗</mo>n</mi></mrow></msqrt></mrow><annotation encoding="application/x-tex">2*sqrt{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.80028em;"></span><span class="strut bottom" style="height: 1.04em; vertical-align: -0.23972em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">2</span>∗</span><span class="mord sqrt"><span class="sqrt-sign" style="top: 0.03972em;"><span class="style-wrap reset-textstyle textstyle uncramped">√</span></span><span class="" style="top: 0em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 1em;">​</span></span><span class="mord textstyle cramped"><span class="mord mathit">n</span></span></span><span class="" style="top: -0.72028em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 1em;">​</span></span><span class="reset-textstyle textstyle uncramped sqrt-line"></span></span><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 1em;">​</span></span>​</span></span></span></span></span></span></span> numbers could be generated in the worst case.</p>
</li>

Space complexity : <span class="maths katex-rendered">O</mi>(</mo>1</mn>)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.02778em;">O</span>(</span><span class="mord mathrm">1</span>)</span></span></span></span></span>. Constant space is used.</p>
</li>
</ul>

<h4 id="approach-2-using-mathaccepted">Approach #2 Using Math[Accepted]</h4>
Algorithm</strong></p>
To understand this method, let's start with a simple illustration. Assume that the number given to us is "abcxy". One way to convert this number into a palindrome is to replicate one half of the string to the other half. If we try replicating the second half to the first half, the new palindrome obtained will be "yxcxy" which lies at an absolute of <span class="maths katex-rendered">∣</mo>1</mn>0</mn>0</mn>0</mn>0</mn>(</mo>a</mi>−</mo>y</mi>)</mo>+</mo>1</mn>0</mn>0</mn>0</mn>(</mo>b</mi>−</mo>x</mi>)</mo>∣</mo></mrow></mrow><annotation encoding="application/x-tex">left|10000(a-y) + 1000(b-x)right|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base textstyle uncramped"><span class="minner textstyle uncramped"><span class="mopen style-wrap reset-textstyle textstyle uncramped" style="top: 0em;">∣</span><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span>(</span><span class="mord mathit">a</span>−</span><span class="mord mathit" style="margin-right: 0.03588em;">y</span>)</span>+</span><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span>(</span><span class="mord mathit">b</span>−</span><span class="mord mathit">x</span>)</span><span class="mclose style-wrap reset-textstyle textstyle uncramped" style="top: 0em;">∣</span></span></span></span></span></span> from the original number. But, if we replicate the first half to the second half of the string, we obtain "abcba", which lies at an absolute difference of <span class="maths katex-rendered">∣</mo>1</mn>0</mn>(</mo>x</mi>−</mo>b</mi>)</mo>+</mo>(</mo>y</mi>−</mo>a</mi>)</mo>∣</mo></mrow></mrow><annotation encoding="application/x-tex">left|10(x-b) + (y-a)right|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base textstyle uncramped"><span class="minner textstyle uncramped"><span class="mopen style-wrap reset-textstyle textstyle uncramped" style="top: 0em;">∣</span><span class="mord mathrm">1</span><span class="mord mathrm">0</span>(</span><span class="mord mathit">x</span>−</span><span class="mord mathit">b</span>)</span>+</span>(</span><span class="mord mathit" style="margin-right: 0.03588em;">y</span>−</span><span class="mord mathit">a</span>)</span><span class="mclose style-wrap reset-textstyle textstyle uncramped" style="top: 0em;">∣</span></span></span></span></span></span>. Trying to change <span class="maths katex-rendered">c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">c</span></span></span></span></span> additionaly in either case would incur an additional value of atleast 100 in the absolute difference.</p>
From the above illustration, we can conclude that if replication is used to generate the palindromic number, we should always replicate the first half to the second half. In this implementation, we've stored such a number in <span class="maths katex-rendered">a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">a</span></span></span></span></span> at a difference of <span class="maths katex-rendered">d</mi>i</mi>f</mi>f</mi>1</mn></mrow><annotation encoding="application/x-tex">diff1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.69444em;"></span><span class="strut bottom" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit">d</span><span class="mord mathit">i</span><span class="mord mathit" style="margin-right: 0.10764em;">f</span><span class="mord mathit" style="margin-right: 0.10764em;">f</span><span class="mord mathrm">1</span></span></span></span></span> from <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>.</p>
But, there exists another case as well, where the digit at the middle index is incremented or decremented. In such cases, it could be profitable to make changes to the central digit only since such changes could lead to a palindrome formation nearer to the original digit. e.g. 10987. Using the above criteria, the palindrome obtained will be 10901 which is at a more difference from 10987 than 11011. A similar situation occurs if a 0 occurs at the middle digit. But, again as discussed previously, we need to consider only the first half digits to obtain the new palindrome. This special effect occurs with 0 or 9 at the middle digit since, only decrementing 0 and incrementing 9 at that digit place can lead to the change in the rest of the digits towards their left. In any other case, the situation boils down to the one discussed in the first paragraph.</p>
Now, whenever we find a 0 near the middle index, in order to consider the palindromes which are lesser than <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>, we subtract a 1 from the first half of the number to obtain a new palindromic half e.g. If the given number <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span> is 20001, we subtract a 1 from 200 creating a number of the form 199xx. To obtain the new palindrome, we replicate the first half to obtain 19991. Taking another example of  10000, (with a 1 at the MSB), we subtract a 1 from 100 creating 099xx as the new number transforming to a 9999 as the new palindrome. This number is stored in <span class="maths katex-rendered">b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.69444em;"></span><span class="strut bottom" style="height: 0.69444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">b</span></span></span></span></span> having a difference of <span class="maths katex-rendered">d</mi>i</mi>f</mi>f</mi>2</mn></mrow><annotation encoding="application/x-tex">diff2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.69444em;"></span><span class="strut bottom" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit">d</span><span class="mord mathit">i</span><span class="mord mathit" style="margin-right: 0.10764em;">f</span><span class="mord mathit" style="margin-right: 0.10764em;">f</span><span class="mord mathrm">2</span></span></span></span></span> from <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>
</p>
Similar treatment needs to be done with a 9 at the middle digit, except that this time we need to consider the numbers larger than the current number. For this, we add a 1 to the first half. e.g. Taking the number 10987, we add a 1 to 109 creating a number of the form 110xx(11011 is the new palindrome). This palindrome is stored in <span class="maths katex-rendered">c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">c</span></span></span></span></span> having a difference of <span class="maths katex-rendered">d</mi>i</mi>f</mi>f</mi>3</mn></mrow><annotation encoding="application/x-tex">diff3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.69444em;"></span><span class="strut bottom" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit">d</span><span class="mord mathit">i</span><span class="mord mathit" style="margin-right: 0.10764em;">f</span><span class="mord mathit" style="margin-right: 0.10764em;">f</span><span class="mord mathrm">3</span></span></span></span></span> from <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>.</p>
Out of these three palindromes, we can choose the one with a minimum difference from <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>. Further, in case of a tie, we need to return the smallest palindrome obtained. For resolving this tie's conflict, we can observe that a tie is possible only if one number is larger than <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span> and another is lesser than <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>. Further, we know that the number <span class="maths katex-rendered">b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.69444em;"></span><span class="strut bottom" style="height: 0.69444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">b</span></span></span></span></span> is obtained by decreasing <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>. Thus, in case of conflict between <span class="maths katex-rendered">b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.69444em;"></span><span class="strut bottom" style="height: 0.69444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">b</span></span></span></span></span> and any other number, we need to choose <span class="maths katex-rendered">b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.69444em;"></span><span class="strut bottom" style="height: 0.69444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">b</span></span></span></span></span>. Similarly, <span class="maths katex-rendered">c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">c</span></span></span></span></span> is obtained by increasing <span class="maths katex-rendered">n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>. Thus, in case of a tie between <span class="maths katex-rendered">c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">c</span></span></span></span></span> and any other number, we need to choose the number other than <span class="maths katex-rendered">c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">c</span></span></span></span></span>.</p>
Java</strong></p>
</span>public</span> class</span> Solution</span> {</span>
    public</span> String</span> mirroring</span>(</span>String</span> s</span>)</span> {</span>
        String</span> x</span> =</span> s</span>.</span>substring</span>(</span>0</span>,</span> (</span>s</span>.</span>length</span>())</span> /</span> 2</span>);</span>
        return</span> x</span> +</span> (</span>s</span>.</span>length</span>()</span> %</span> 2</span> ==</span> 1</span> ?</span> s</span>.</span>charAt</span>(</span>s</span>.</span>length</span>()</span> /</span> 2</span>)</span> :</span> ""</span>)</span> +</span> new</span> StringBuilder</span>(</span>x</span>).</span>reverse</span>().</span>toString</span>();</span>
    }</span>
    public</span> String</span> nearestPalindromic</span>(</span>String</span> n</span>)</span> {</span>
        if</span> (</span>n</span>.</span>equals</span>(</span>"1"</span>))</span>
            return</span> "0"</span>;</span>

        String</span> a</span> =</span> mirroring</span>(</span>n</span>);</span>
        long</span> diff1</span> =</span> Long</span>.</span>MAX_VALUE</span>;</span>
        diff1</span> =</span> Math</span>.</span>abs</span>(</span>Long</span>.</span>parseLong</span>(</span>n</span>)</span> -</span> Long</span>.</span>parseLong</span>(</span>a</span>));</span>
        if</span> (</span>diff1</span> ==</span> 0</span>)</span>
            diff1</span> =</span> Long</span>.</span>MAX_VALUE</span>;</span>

        StringBuilder</span> s</span> =</span> new</span> StringBuilder</span>(</span>n</span>);</span>
        int</span> i</span> =</span> (</span>s</span>.</span>length</span>()</span> -</span> 1</span>)</span> /</span> 2</span>;</span>
        while</span> (</span>i</span> &gt;=</span> 0</span> &amp;&amp;</span> s</span>.</span>charAt</span>(</span>i</span>)</span> ==</span> '0'</span>)</span> {</span>
            s</span>.</span>replace</span>(</span>i</span>,</span> i</span> +</span> 1</span>,</span> "9"</span>);</span>
            i</span>--;</span>
        }</span>
        if</span> (</span>i</span> ==</span> 0</span> &amp;&amp;</span> s</span>.</span>charAt</span>(</span>i</span>)</span> ==</span> '1'</span>)</span> {</span>
            s</span>.</span>delete</span>(</span>0</span>,</span> 1</span>);</span>
            int</span> mid</span> =</span> (</span>s</span>.</span>length</span>()</span> -</span> 1</span>)</span> /</span> 2</span>;</span>
            s</span>.</span>replace</span>(</span>mid</span>,</span> mid</span> +</span> 1</span>,</span> "9"</span>);</span>
        }</span> else</span>
            s</span>.</span>replace</span>(</span>i</span>,</span> i</span> +</span> 1</span>,</span> ""</span> +</span> (</span>char</span>)(</span>s</span>.</span>charAt</span>(</span>i</span>)</span> -</span> 1</span>));</span>
        String</span> b</span> =</span> mirroring</span>(</span>s</span>.</span>toString</span>());</span>
        long</span> diff2</span> =</span> Math</span>.</span>abs</span>(</span>Long</span>.</span>parseLong</span>(</span>n</span>)</span> -</span> Long</span>.</span>parseLong</span>(</span>b</span>));</span>


        s</span> =</span> new</span> StringBuilder</span>(</span>n</span>);</span>
        i</span> =</span> (</span>s</span>.</span>length</span>()</span> -</span> 1</span>)</span> /</span> 2</span>;</span>
        while</span> (</span>i</span> &gt;=</span> 0</span> &amp;&amp;</span> s</span>.</span>charAt</span>(</span>i</span>)</span> ==</span> '9'</span>)</span> {</span>
            s</span>.</span>replace</span>(</span>i</span>,</span> i</span> +</span> 1</span>,</span> "0"</span>);</span>
            i</span>--;</span>
        }</span>
        if</span> (</span>i</span> &lt;</span> 0</span>)</span> {</span>
            s</span>.</span>insert</span>(</span>0</span>,</span> "1"</span>);</span>
        }</span> else</span>
            s</span>.</span>replace</span>(</span>i</span>,</span> i</span> +</span> 1</span>,</span> ""</span> +</span> (</span>char</span>)(</span>s</span>.</span>charAt</span>(</span>i</span>)</span> +</span> 1</span>));</span>
        String</span> c</span> =</span> mirroring</span>(</span>s</span>.</span>toString</span>());</span>
        long</span> diff3</span> =</span> Math</span>.</span>abs</span>(</span>Long</span>.</span>parseLong</span>(</span>n</span>)</span> -</span> Long</span>.</span>parseLong</span>(</span>c</span>));</span>

        if</span> (</span>diff2</span> &lt;=</span> diff1</span> &amp;&amp;</span> diff2</span> &lt;=</span> diff3</span>)</span>
            return</span> b</span>;</span>
        if</span> (</span>diff1</span> &lt;=</span> diff3</span> &amp;&amp;</span> diff1</span> &lt;=</span> diff2</span>)</span>
            return</span> a</span>;</span>
        else</span>
            return</span> c</span>;</span>
    }</span>
}</span>
</pre></div>


Complexity Analysis</strong></p>


Time complexity : <span class="maths katex-rendered">O</mi>(</mo>l</mi>)</mo></mrow><annotation encoding="application/x-tex">O(l)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.02778em;">O</span>(</span><span class="mord mathit" style="margin-right: 0.01968em;">l</span>)</span></span></span></span></span>. Scanning, insertion, deletion,, mirroring takes <span class="maths katex-rendered">O</mi>(</mo>l</mi>)</mo></mrow><annotation encoding="application/x-tex">O(l)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.02778em;">O</span>(</span><span class="mord mathit" style="margin-right: 0.01968em;">l</span>)</span></span></span></span></span>, where <span class="maths katex-rendered">l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.69444em;"></span><span class="strut bottom" style="height: 0.69444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.01968em;">l</span></span></span></span></span> is the length of the string.</p>
</li>

Space complexity : <span class="maths katex-rendered">O</mi>(</mo>l</mi>)</mo></mrow><annotation encoding="application/x-tex">O(l)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.02778em;">O</span>(</span><span class="mord mathit" style="margin-right: 0.01968em;">l</span>)</span></span></span></span></span>. Temporary variables are used to store the strings.</p>
</li>
</ul>

Analysis written by: <a href="https://leetcode.com/vinod23">@vinod23</a></p>